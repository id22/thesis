%!TEX root = shrink.tex
\begin{abstract}
%
%Many datacenters are primarily used for content delivery. These content delivery datacenters (\cdc) are lightly loaded during normal use, and can save considerable energy by consolidating demand on a subset of components. But, turning servers off  to save energy could reduce cache-hit rates and impact server availability, and turning network components off to do so could increase datacenter network congestion; both events hurt user-experience. Due to these perceived risks, operators leave entire datacenters in an always on state foregoing all energy savings.
%
%We present \shrink, a cluster manager to make content delivery datacenters energy-efficient. \shrink\ makes energy optimization decisions for servers and switches in a coordinated manner to maximize energy savings, and decides load balancing and network routing to ensure a minimal impact on user-perceived performance. 
% We implement a prototype of \shrink\ and evaluate it based on extensive content access traces from an operational CDN datacenter. Our results show that \shrink\ can reduce energy consumption by up to 58\% over current practice of keeping entire datacenters always on. Further, we show that end-to-end user perceived performance is minimally affected because energy optimization makes little difference to cache hit rates for the storage available on today's server-class machines.

%Energy comprises a significant operational cost of datacenters today, and a large body of research has investigated automated server and switch shutdown strategies seeking to reduce this cost. Nevertheless, these strategies are rarely used in practice today largely because operators are worry about their impact on user-perceived response times, i.e., about whether the benefits are worth the cost. 

%Energy comprises a significant operational cost of datacenters today, and a large body of research has investigated automated server and switch shutdown strategies seeking to reduce this cost.

Energy use is a key component of operational costs of \emph{content datacenters (CDCs)}, datacenters that are used for storing and serving content to end-users. CDCs can potentially reduce their energy use via consolidation of servers and switches, but in doing so, they risk inflating end-user response times potentially leading to SLA violations. Our primary contribution is to quantify the tradeoff between energy savings via consolidation and response times in CDCs, and the design and implementation of Shrink, a system that aggressively leverages this tradeoff in order to yield significant savings in energy use in CDCs while affecting user-perceived response times in a controlled manner. To our knowledge, Shrink is the first system to consolidate servers and switches in a coordinated manner, an approach that reduces network energy use by up to 42\% compared to network-unaware server consolidation schemes. Our evaluation of Shrink using a workload from a large CDN's datacenter shows that Shrink can reduce energy use by 35\% over a scheme provisioned for the peak demand, while increasing the mean, 95th and 99th percentile response times by 8\%, 3\% and 15\% respectively.

%Content datacenters (CDCs) are used for storing and serving content to end-users. A key component of operational costs for CDCs is their energy use. CDCs can potentially reduce their energy use via consolidation of servers and switches, but in doing so, they risk inflating end-user response times potentially leading to SLA violations. Our main contribution to quantify the tradeoff between energy savings via consolidation and response times, which is key to understanding whether the benefits of energy savings outweigh the costs. To this end, we design and implement \shrink\ -- a system for server and network consolidation, as well as load balancing. A novel aspect of \shrink\ is its network-aware server consolidation, which reduces network energy use by up to 42\% over network-unaware server consolidation schemes on common datacenter topologies. In an experiment with the workload traces of a large CDN's datacenter, \shrink\ reduces energy use by 35\% over a scheme provisioned for the peak demand, while increasing the mean, 95-th and 99-th  percentile response times by 8\%, 3\% and 15\% respectively.

\end{abstract}
